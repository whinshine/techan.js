/*
 TechanJS v0.9.1
 (c) 2024 - 2025 Vincent Hattiny
*/
!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).techan=t()}(function(){return function r(a,c,o){function i(n,t){if(!c[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(u)return u(n,!0);throw(t=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",t}e=c[n]={exports:{}},a[n][0].call(e.exports,function(t){return i(a[n][1][t]||t)},e,e.exports,r,a,c,o)}return c[n].exports}for(var u="function"==typeof require&&require,t=0;t<o.length;t++)i(o[t]);return i}({1:[function(t,n,e){n.exports="0.9.1"},{}],2:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.adx},r=function(t){return t.plusDi},a=function(t){return t.minusDi};function c(t){return c.r(t)}function o(){return c.d=n,c.adx=e,c.plusDi=r,c.minusDi=a,c}return c.date=function(t){return arguments.length?(n=t,o()):n},c.adx=function(t){return arguments.length?(e=t,o()):e},c.plusDi=function(t){return arguments.length?(r=t,o()):r},c.minusDi=function(t){return arguments.length?(a=t,o()):a},o()}},{}],3:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.up},r=function(t){return t.down},a=function(t){return t.oscillator},c=function(t){return t.overbought},o=function(t){return t.oversold},i=function(t){return t.middle};function u(t){return u.r(t)}function s(){return u.d=n,u.up=e,u.down=r,u.oscillator=a,u.ob=c,u.os=o,u.m=i,u}return u.date=function(t){return arguments.length?(n=t,s()):n},u.up=function(t){return arguments.length?(e=t,s()):e},u.down=function(t){return arguments.length?(r=t,s()):r},u.oscillator=function(t){return arguments.length?(a=t,s()):a},u.overbought=function(t){return arguments.length?(c=t,s()):c},u.oversold=function(t){return arguments.length?(o=t,s()):o},u.middle=function(t){return arguments.length?(i=t,s()):i},s()}},{}],4:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.up},r=function(t){return t.down};function a(t){return a.up(t)}function c(){return a.d=n,a.up=e,a.dn=r,a}return a.date=function(t){return arguments.length?(n=t,c()):n},a.up=function(t){return arguments.length?(e=t,c()):e},a.down=function(t){return arguments.length?(r=t,c()):r},c()}},{}],5:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.middleBand},r=function(t){return t.upperBand},a=function(t){return t.lowerBand};function c(t){return c.r(t)}function o(){return c.d=n,c.middle=e,c.upper=r,c.lower=a,c}return c.date=function(t){return arguments.length?(n=t,o()):n},c.middle=function(t){return arguments.length?(e=t,o()):e},c.upper=function(t){return arguments.length?(r=t,o()):r},c.lower=function(t){return arguments.length?(a=t,o()):a},o()}},{}],6:[function(t,n,e){n.exports=function(){var n=function(t,n){return arguments.length<2?t.x:(t.x=n,r)},e=function(t,n){return arguments.length<2?t.y:(t.y=n,r)};function r(t){return r.xv(t)}function a(){return r.xv=n,r.yv=e,r}return r.x=function(t){return arguments.length?(n=t,a()):n},r.y=function(t){return arguments.length?(e=t,a()):e},a()}},{}],7:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.tenkanSen},r=function(t){return t.kijunSen},a=function(t){return t.senkouSpanA},c=function(t){return t.senkouSpanB},o=function(t){return t.chikouSpan},i=function(t){return t.parameters.tenkanSen},u=function(t){return t.parameters.kijunSen},s=function(t){return t.parameters.senkouSpanB};function l(t){return l.ts(t)}function d(){return l.d=n,l.ts=e,l.ks=r,l.sa=a,l.sb=c,l.c=o,l.pts=i,l.pks=u,l.pssb=s,l}return l.date=function(t){return arguments.length?(n=t,d()):n},l.tenkanSen=function(t){return arguments.length?(e=t,d()):e},l.kijunSen=function(t){return arguments.length?(r=t,d()):r},l.senkouSpanA=function(t){return arguments.length?(a=t,d()):a},l.senkouSpanB=function(t){return arguments.length?(c=t,d()):c},l.chikouSpan=function(t){return arguments.length?(o=t,d()):o},l.ptenanSen=function(t){return arguments.length?(i=t,d()):i},l.pkijunSen=function(t){return arguments.length?(u=t,d()):u},l.psenkouSpanB=function(t){return arguments.length?(s=t,d()):s},d()}},{}],8:[function(t,n,e){n.exports=function(){return{atrtrailingstop:t("./atrtrailingstop"),crosshair:t("./crosshair"),ichimoku:t("./ichimoku"),macd:t("./macd"),ohlc:t("./ohlc"),rsi:t("./rsi"),trendline:t("./trendline"),value:t("./value"),volume:t("./volume"),tick:t("./tick"),trade:t("./trade"),adx:t("./adx"),aroon:t("./aroon"),stochastic:t("./stochastic"),supstance:t("./supstance"),stopline:t("./stopline"),williams:t("./williams"),bollinger:t("./bollinger")}}},{"./adx":2,"./aroon":3,"./atrtrailingstop":4,"./bollinger":5,"./crosshair":6,"./ichimoku":7,"./macd":9,"./ohlc":10,"./rsi":11,"./stochastic":12,"./stopline":13,"./supstance":14,"./tick":15,"./trade":16,"./trendline":17,"./value":18,"./volume":19,"./williams":20}],9:[function(t,n,e){n.exports=function(){function t(t){return t.zero}var n=function(t){return t.date},e=function(t){return t.macd},r=function(t){return t.signal},a=function(t){return t.difference};function c(t){return c.m(t)}function o(){return c.d=n,c.m=e,c.s=r,c.dif=a,c.z=t,c}return c.date=function(t){return arguments.length?(n=t,o()):n},c.macd=function(t){return arguments.length?(e=t,o()):e},c.signal=function(t){return arguments.length?(r=t,o()):r},c.difference=function(t){return arguments.length?(a=t,o()):a},o()}},{}],10:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.open},r=function(t){return t.high},a=function(t){return t.low},c=function(t){return t.close},o=function(t){return t.volume};function i(t){return i.c(t)}function u(){return i.d=n,i.o=e,i.h=r,i.l=a,i.c=c,i.v=o,i}return i.date=function(t){return arguments.length?(n=t,u()):n},i.open=function(t){return arguments.length?(e=t,u()):e},i.high=function(t){return arguments.length?(r=t,u()):r},i.low=function(t){return arguments.length?(a=t,u()):a},i.close=function(t){return arguments.length?(c=t,u()):c},i.volume=function(t){return arguments.length?(o=t,u()):o},u()}},{}],11:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.rsi},r=function(t){return t.overbought},a=function(t){return t.oversold},c=function(t){return t.middle};function o(t){return o.r(t)}function i(){return o.d=n,o.r=e,o.ob=r,o.os=a,o.m=c,o}return o.date=function(t){return arguments.length?(n=t,i()):n},o.rsi=function(t){return arguments.length?(e=t,i()):e},o.overbought=function(t){return arguments.length?(r=t,i()):r},o.oversold=function(t){return arguments.length?(a=t,i()):a},o.middle=function(t){return arguments.length?(c=t,i()):c},i()}},{}],12:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.stochasticK},r=function(t){return t.stochasticD},a=function(t){return t.overbought},c=function(t){return t.oversold};function o(t){return o.r(t)}function i(){return o.d=n,o.k=e,o.sd=r,o.ob=a,o.os=c,o}return o.date=function(t){return arguments.length?(n=t,i()):n},o.stochasticK=function(t){return arguments.length?(e=t,i()):e},o.stochasticD=function(t){return arguments.length?(r=t,i()):r},o.overbought=function(t){return arguments.length?(a=t,i()):a},o.oversold=function(t){return arguments.length?(c=t,i()):c},i()}},{}],13:[function(t,n,e){n.exports=function(){function n(t){return t.value[0]}function e(t){return t.value[o(t.value)-1]}function r(t,n){return arguments.length<2?t.value:(t.value.push(n),i)}function t(t,n){return arguments.length<2?t.rawdata:(t.rawdata.push(n),i)}function a(t){return arguments.length&&t.value.pop(),i}function c(t,n){return arguments.length<2?t.type:i}var o=function(t){return void 0===t||void 0===t.value?0:t.value.length};function i(t){return i.v(t)}function u(){return i.t=c,i.s=n,i.e=e,i.v=r,i.sz=o,i.c=a,i.rd=t,i}return i.start=function(t){return arguments.length?u():n},i.end=function(t){return arguments.length?u():e},i.value=function(t){return arguments.length?u():r},u()}},{}],14:[function(t,n,e){n.exports=function(){var n=function(t){return t.start},e=function(t){return t.end},r=function(t,n){return arguments.length<2?t.value:(t.value=n,a)};function a(t){return a.v(t)}function c(){return a.s=n,a.e=e,a.v=r,a}return a.start=function(t){return arguments.length?(n=t,c()):n},a.end=function(t){return arguments.length?(e=t,c()):e},a.value=function(t){return arguments.length?(r=t,c()):r},c()}},{}],15:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.high},r=function(t){return t.low},a=function(t){return t.spread};function t(t){c()}function c(){return t.d=n,t.h=e,t.l=r,t.s=a,t}return t.date=function(t){return arguments.length?(n=t,c()):n},t.high=function(t){return arguments.length?(e=t,c()):e},t.low=function(t){return arguments.length?(r=t,c()):r},t.spread=function(t){return arguments.length?(a=t,c()):a},c()}},{}],16:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.type},r=function(t){return t.price};function a(t){return a.p(t)}function t(t,n){return arguments.length<2?t.date:(t.date=n,a)}function c(){return a.d=n,a.t=e,a.p=r,a.nd=t,a}return a.date=function(t){return arguments.length?(n=t,c()):n},a.type=function(t){return arguments.length?(e=t,c()):e},a.price=function(t){return arguments.length?(r=t,c()):r},c()}},{}],17:[function(t,n,e){n.exports=function(){var n=function(t,n){if(arguments.length<2)return t.start.date;t.start.date=n},e=function(t,n){if(arguments.length<2)return t.start.value;t.start.value=n},r=function(t,n){if(arguments.length<2)return t.end.date;t.end.date=n},a=function(t,n){if(arguments.length<2)return t.end.value;t.end.value=n};function c(t){return c.sv(t)}function o(){return c.sd=n,c.sv=e,c.ed=r,c.ev=a,c}return c.startDate=function(t){return arguments.length?(n=t,o()):n},c.startValue=function(t){return arguments.length?(e=t,o()):e},c.endDate=function(t){return arguments.length?(r=t,o()):r},c.endValue=function(t){return arguments.length?(a=t,o()):a},o()}},{}],18:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t,n){return arguments.length<2?t.value:(t.value=n,a)},r=function(t){return 0};function a(t){return a.v(t)}function c(){return a.d=n,a.v=e,a.z=r,a}return a.date=function(t){return arguments.length?(n=t,c()):n},a.value=function(t){return arguments.length?(e=t,c()):e},a.zero=function(t){return arguments.length?(r=t,c()):r},c()}},{}],19:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.volume};function r(t){return r.v(t)}function a(){return r.d=n,r.v=e,r}return r.date=function(t){return arguments.length?(n=t,a()):n},r.volume=function(t){return arguments.length?(e=t,a()):e},a()}},{}],20:[function(t,n,e){n.exports=function(){var n=function(t){return t.date},e=function(t){return t.williams};function r(t){return r.r(t)}function a(){return r.d=n,r.w=e,r}return r.date=function(t){return arguments.length?(n=t,a()):n},r.williams=function(t){return arguments.length?(e=t,a()):e},a()}},{}],21:[function(t,n,e){function f(t,n,e,r){return e?{date:t,adx:n,plusDi:e,minusDi:r}:{date:t,adx:null,plusDi:null,minusDi:null}}n.exports=function(d,n,e,r){return function(){var l={};function t(c){var o=r().accessor(t.accessor()).period(l.period).init(),i=r().accessor(t.accessor()).period(l.period).init(),u=r().accessor(t.accessor()).period(l.period).init(),s=r().accessor(t.accessor()).period(l.period).init();return c.map(function(t,n){var e,r,a;return!(n<1)&&(r=l.accessor.h(c[n])-l.accessor.h(c[n-1]),e=(a=l.accessor.l(c[n-1])-l.accessor.l(c[n]))<r&&0<r?r:0,r=r<a&&0<a?a:0,a=d([l.accessor.h(t)-l.accessor.l(t),Math.abs(l.accessor.h(t)-l.accessor.c(c[n-1])),Math.abs(l.accessor.l(t)-l.accessor.c(c[n-1]))]),e=o.average(e),r=i.average(r),a=u.average(a),n>l.period)&&((e=100*e/a)-(r=100*r/a)!=(a=0)&&(a=Math.abs((e-r)/(e+r))),a=100*s.average(a),n>=2*l.period)?f(l.accessor.d(t),a,e,r):f(l.accessor.d(t))}).filter(function(t){return t.adx})}return n(t,l).accessor(e()).period(14),t}}},{}],22:[function(t,n,e){function v(t,n,e,r,a,c,o){return n?{date:t,up:n,down:e,oscillator:r,middle:a,overbought:c,oversold:o}:{date:t,up:null,down:null,oscillator:null,middle:null,overbought:null,oversold:null}}n.exports=function(t,e){return function(){var d={},f=70,p=0,h=30;function n(l){return l.map(function(t,n){if(d.period-1<=n){for(var e=0,r=0,a=1e4,c=0,o=0;o<d.period;o++)d.accessor.h(l[n-o])>e&&(e=d.accessor.h(l[n-o]),r=o),d.accessor.l(l[n-o])<a&&(a=d.accessor.l(l[n-o]),c=o);var i=(d.period-r)/d.period*100,u=(d.period-c)/d.period*100,s=i-u;return v(d.accessor.d(t),i,u,s,p,f,h)}return v(d.accessor.d(t))}).filter(function(t){return t.up})}return n.overbought=function(t){return arguments.length?(f=t,n):f},n.middle=function(t){return arguments.length?(p=t,n):p},n.oversold=function(t){return arguments.length?(h=t,n):h},t(n,d).accessor(e()).period(20),n}}},{}],23:[function(t,n,e){function s(t,n){return n?{date:t,value:n}:{date:t,value:null}}n.exports=function(t,n,u){return function(){var r={},e=u(),a=null,c=0,o=0;function i(t){return i.init(),t.map(function(t,n){var e=i.atr(t);return r.period<=n?s(r.accessor.d(t),e):s(r.accessor.d(t))}).filter(function(t){return null!==t.value})}return i.init=function(){return e.accessor(i.accessor()).period(r.period).init(),a=null,o=c=0,i},i.atr=function(t){var n=null===a?r.accessor.h(t)-r.accessor.l(t):Math.max(r.accessor.h(t)-r.accessor.l(t),Math.abs(r.accessor.h(t)-r.accessor.c(a)),Math.abs(r.accessor.l(t)-r.accessor.c(a)));return a=t,c=o++<=r.period?e.average(n):(c*(r.period-1)+n)/r.period},t(i,r).accessor(n()).period(14),i}}},{}],24:[function(t,n,e){n.exports=function(t,e,r){return function(){var a={},c=3,o=r();function n(t){return o.accessor(a.accessor).period(a.period).init(),t.map(function(t,n){var e=a.accessor.c(t),r=o.atr(t)*c;return n>=a.period?{date:a.accessor.d(t),close:e,up:e-r,down:e+r}:{date:a.accessor.d(t),up:null,down:null}}).filter(function(t){return null!==t.up&&null!==t.down}).reduce(function(t,n,e){var r=t[e-1],e=0===e?n.up:null,a=null;return r&&null!==r.up&&(n.close>r.up?e=Math.max(n.up,r.up):a=n.down),r&&null!==r.down&&(n.close<r.down?a=Math.min(n.down,r.down):e=n.up),t.push({date:n.date,up:e,down:a}),t},[])}return n.multiplier=function(t){return arguments.length?(c=t,n):c},t(n,a).accessor(e()).period(14),n}}},{}],25:[function(t,n,e){function f(t,n,e,r){return n?{date:t,middleBand:n,upperBand:e,lowerBand:r}:{date:t,middleBand:null,upperBand:null,lowerBand:null}}n.exports=function(t,e,r){return function(){var s,l={},d=2;function n(o){var i,u=r().accessor(n.accessor()).period(l.period).init();return o.map(function(t,n){var e=u.average(l.accessor(t));if(n>=l.period){var r=0;for(i=0;i<l.period;i++)r+=Math.pow(l.accessor.c(o[n-i])-e,2);s=Math.sqrt(r/l.period);var a=e+d*s,c=e-d*s;return f(l.accessor.d(t),e,a,c)}return f(l.accessor.d(t))}).filter(function(t){return t.middleBand})}return n.sdMultiplication=function(t){return arguments.length?(d=t,n):d},t(n,l).accessor(e()).period(20),n}}},{}],26:[function(t,n,e){n.exports=function(t,u,s){return function(){var n,e,r,a,c={};function o(t){return o.init(),t.map(i).filter(function(t){return null!==t.value})}function i(t,n){var e=o.average(c.accessor(t));return n+1<c.period&&(e=null),{date:c.accessor.d(t),value:e}}return o.init=function(){return n=null,e=s(c.period),a=r=0,o},o.average=function(t){return a<c.period?n=(r+=t)/++a:n+=e*(t-n)},t(o,c).accessor(u()).period(10),o}}},{}],27:[function(t,n,e){n.exports=function(n,e,a,c){return function(){var r={};function t(t){var e;return t.map(function(t){var n={date:r.accessor.d(t),open:(void 0===e?r.accessor.o(t)+r.accessor.c(t):e.open+e.close)/2,close:(r.accessor.o(t)+r.accessor.h(t)+r.accessor.l(t)+r.accessor.c(t))/4};return n.high=c([n.open,n.close,r.accessor.h(t)]),n.low=a([n.open,n.close,r.accessor.l(t)]),void 0!==r.accessor.v&&void 0!==r.accessor.v(t)&&(n.volume=r.accessor.v(t)),e=n})}return n(t,r).accessor(e()),t}}},{}],28:[function(t,n,e){n.exports=function(t,e){return function(){var s={},a=9,c=26,o=52;function n(t){for(var n={tenkanSen:a,kijunSen:c,senkouSpanB:o},e=new Array(t.length),r=e.length-1;0<=r;r--)e[r]=((t,n,e)=>{for(var r=n[e],a=s.accessor.l(r),c=s.accessor.h(r),o={parameters:t,date:s.accessor.d(r),chikouSpan:s.accessor.c(r),tenkanSen:null,kijunSen:null,senkouSpanA:null,senkouSpanB:null},i=0,u=i+1;i<t.senkouSpanB&&0<=e-i;u=++i+1)r=n[e-i],a=Math.min(a,s.accessor.l(r)),c=Math.max(c,s.accessor.h(r)),o.tenkanSen=u===t.tenkanSen?(a+c)/2:o.tenkanSen,o.kijunSen=u===t.kijunSen?(a+c)/2:o.kijunSen,o.senkouSpanB=u===t.senkouSpanB?(a+c)/2:o.senkouSpanB;return o.senkouSpanA=((t,n)=>null!==t&&null!==n?(t+n)/2:null)(o.tenkanSen,o.kijunSen),o})(n,t,r);return e}return n.tenkanSen=function(t){return arguments.length?(a=t,n):a},n.kijunSen=function(t){return arguments.length?(c=t,n):c},n.senkouSpanB=function(t){return arguments.length?(o=t,n):o},t(n,s).accessor(e()),n}}},{}],29:[function(l,t,n){function d(t){return 2/(t+1)}function f(t){return 1/t}t.exports=function(t){var n=l("./indicatormixin")(),e=l("../accessor")(),r=l("./ema"),a=r(n,e.ohlc,d),c=l("./sma")(n,e.ohlc),o=l("./atr")(n,e.ohlc,c),i=l("../util")().circularbuffer,u=l("./sroc"),s=l("./vwap")(n,e.ohlc);return{atr:o,atrtrailingstop:l("./atrtrailingstop")(n,e.ohlc,o),ema:a,heikinashi:l("./heikinashi")(n,e.ohlc,t.min,t.max),ichimoku:l("./ichimoku")(n,e.ohlc),macd:l("./macd")(n,e.ohlc,a),rsi:l("./rsi")(n,e.ohlc,a),sma:c,wilderma:r(n,e.ohlc,f),aroon:l("./aroon")(n,e.ohlc),roc:u(i,n,e.ohlc,a,1),sroc:u(i,n,e.ohlc,a,13),stochastic:l("./stochastic")(n,e.ohlc,a),williams:l("./williams")(n,e.ohlc,a),adx:l("./adx")(t.max,n,e.ohlc,a),bollinger:l("./bollinger")(n,e.ohlc,c),vwap:s}}},{"../accessor":8,"../util":69,"./adx":21,"./aroon":22,"./atr":23,"./atrtrailingstop":24,"./bollinger":25,"./ema":26,"./heikinashi":27,"./ichimoku":28,"./indicatormixin":30,"./macd":31,"./rsi":32,"./sma":33,"./sroc":34,"./stochastic":35,"./vwap":36,"./williams":37}],30:[function(t,n,e){n.exports=function(){return function(n,e){var r={period:function(t){return e.period=t,n.period=function(t){return arguments.length?(e.period=+t,n):e.period},n.preroll=function(){return e.period},r},accessor:function(t){return e.accessor=t,n.accessor=function(t){return arguments.length?(e.accessor=t,n):e.accessor},r},preroll:function(t){return n.preroll=t,r}};return n.preroll=function(){return 0},r}}},{}],31:[function(t,n,e){function d(t,n,e,r,a){return n?{date:t,macd:n,signal:e,difference:r,zero:a}:{date:t,macd:null,signal:null,difference:null,zero:null}}n.exports=function(t,a,c){return function(){var o={},n=12,e=26,r=9,i=c(),u=c(),s=c();function l(t){var a=Math.max(n,e)-1,c=a+r-1;return i.accessor(l.accessor()).period(r).init(),u.accessor(l.accessor()).period(n).init(),s.accessor(l.accessor()).period(e).init(),t.map(function(t,n){var e=u.average(o.accessor(t))-s.average(o.accessor(t)),r=a<=n?i.average(e):null;return c<=n?d(o.accessor.d(t),e,r,e-r,0):d(o.accessor.d(t))}).filter(function(t){return null!==t.macd})}return l.fast=function(t){return arguments.length?(n=t,l):n},l.slow=function(t){return arguments.length?(e=t,l):e},l.signal=function(t){return arguments.length?(r=t,l):r},t(l,o).accessor(a()).preroll(l.slow),l}}},{}],32:[function(t,n,e){function d(t,n,e,r,a){return n?{date:t,rsi:n,middle:e,overbought:r,oversold:a}:{date:t,rsi:null,middle:null,overbought:null,oversold:null}}n.exports=function(t,e,r){return function(){var c={},o=70,i=50,u=30,s=r(),l=r();function n(a){return s.accessor(n.accessor()).period(c.period).init(),l.accessor(n.accessor()).period(c.period).init(),a.map(function(t,n){var e,r;return!(n<1)&&(r=c.accessor(t)-c.accessor(a[n-1]),e=l.average(Math.max(r,0)),r=Math.abs(s.average(Math.min(r,0))),n>=c.period)?(n=100-100/(1+e/r),d(c.accessor.d(t),n,i,o,u)):d(c.accessor.d(t))}).filter(function(t){return null!==t.rsi})}return n.overbought=function(t){return arguments.length?(o=t,n):o},n.middle=function(t){return arguments.length?(i=t,n):i},n.oversold=function(t){return arguments.length?(u=t,n):u},t(n,c).accessor(e()).period(14),n}}},{}],33:[function(t,n,e){n.exports=function(t,i){return function(){var n,e,r,a={};function c(t){return c.init(),t.map(o).filter(function(t){return null!==t.value})}function o(t,n){var e=c.average(a.accessor(t));return n+1<a.period&&(e=null),{date:a.accessor.d(t),value:e}}return c.init=function(){return n=[],e=r=0,c},c.average=function(t){return r+=t,n.length+1<a.period?(n.push(t),r/++e):(n.length<a.period&&(n.push(t),r+=t),r-=n[e],n[e]=t,++e===a.period&&(e=0),r/a.period)},t(c,a).accessor(i()).period(10),c}}},{}],34:[function(t,n,e){n.exports=function(t,e,i,u,s){return function(){var r,a={},c=u().period(s);function o(t){return o.init(),t.map(n).filter(function(t){return null!==t.value})}function n(t,n){var e=o.roc(a.accessor(t));return(!r.primed()||n+1<c.period())&&(e=null),{date:a.accessor.d(t),value:e}}return o.init=function(){return c.init(),r=t(a.period),o},o.roc=function(t){return r.push(c.average(t)),(r.head()-r.last())/r.last()},o.ema=function(t){return arguments.length?(c=t,o):c},e(o,a).accessor(i()).period(21),o}}},{}],35:[function(t,n,e){function m(t,n,e,r,a){return n?{date:t,stochasticK:n,stochasticD:e,overbought:r,oversold:a}:{date:t,stochasticK:null,stochasticD:null,overbought:r,oversold:a}}n.exports=function(t,e){return function(){var f={},p=3,h=80,v=20;function n(l){var d=n.preroll();return l.map(function(t,n){if(d<=n){for(var e=[],r=[],a=[],c=0;c<p;c++)e.push(0),r.push(1e4),a.push(0);for(var o=0,i=0;i<p;i++){for(var u=0;u<f.period;u++)f.accessor.h(l[n-u-i])>e[i]&&(e[i]=f.accessor.h(l[n-u-i])),f.accessor.l(l[n-u-i])<r[i]&&(r[i]=f.accessor.l(l[n-u-i]));a[i]=0<e[i]-r[i]?(f.accessor.c(l[n-i])-r[i])/(e[i]-r[i])*100:50,o+=a[i]}var s=a[0];return o/=p,m(f.accessor.d(t),s,o,h,v)}return m(f.accessor.d(t),null,null,h,v)}).filter(function(t){return t.stochasticK})}return n.periodD=function(t){return arguments.length?(p=+t,n):p},n.overbought=function(t){return arguments.length?(h=t,n):h},n.oversold=function(t){return arguments.length?(v=t,n):v},t(n,f).accessor(e()).period(20).preroll(function(){return f.period+p}),n}}},{}],36:[function(t,n,e){n.exports=function(t,i){return function(){var e,r,a,c={};function n(t){return n.init(),t.map(o).filter(function(t){return null!==t.value})}function o(t,n){0<n&&a.getDate()!=c.accessor.d(t).getDate()&&(r=e=0);n=(c.accessor.h(t)+c.accessor.l(t)+c.accessor.c(t))/3;return e+=n*c.accessor.v(t),r+=c.accessor.v(t),a=c.accessor.d(t),{date:c.accessor.d(t),value:e/r}}return n.init=function(){return r=e=0,n},t(n,c).accessor(i()).period(1),n}}},{}],37:[function(t,n,e){function d(t,n,e,r,a){return n?{date:t,williams:n,middle:e,overbought:r,oversold:a}:{date:t,williams:null,middle:null,overbought:null,oversold:null}}n.exports=function(t,e){return function(){var i={},u=80,s=50,l=20;function n(o){return o.map(function(t,n){if(i.period<=n){for(var e=0,r=1e4,a=0;a<i.period;a++)i.accessor.h(o[n-a])>e&&(e=i.accessor.h(o[n-a]),0),i.accessor.l(o[n-a])<r&&(r=i.accessor.l(o[n-a]),0);var c=(i.accessor.c(o[n])-r)/(e-r)*100;return d(i.accessor.d(t),c,s,u,l)}return d(i.accessor.d(t))}).filter(function(t){return t.williams})}return n.overbought=function(t){return arguments.length?(u=t,n):u},n.middle=function(t){return arguments.length?(s=t,n):s},n.oversold=function(t){return arguments.length?(l=t,n):l},t(n,i).accessor(e()).period(20),n}}},{}],38:[function(t,n,e){n.exports=function(n,r,u){return function(){var a={},c=r.pathLine(),o=r.pathLine(),i=r.pathLine();function e(t){var n=a.dataSelector(t);n.entry.append("path").attr("class","adx"),n.entry.append("path").attr("class","plusDi"),n.entry.append("path").attr("class","minusDi"),e.refresh(t)}function t(){c.init(a.accessor.d,a.xScale,a.accessor.adx,a.yScale),o.init(a.accessor.d,a.xScale,a.accessor.plusDi,a.yScale),i.init(a.accessor.d,a.xScale,a.accessor.minusDi,a.yScale)}return e.refresh=function(t){var n,e,r;t=a.dataSelector.select(t),n=c,e=o,r=i,t.select("path.adx").attr("d",n),t.select("path.plusDi").attr("d",e),t.select("path.minusDi").attr("d",r)},u(e,a).plot(n(),t).dataSelector(u.dataMapper.array),t(),e}}},{}],39:[function(t,n,e){n.exports=function(n,m,r){return function(){var l={},d=m.pathLine(),f=m.pathArea(),p=m.pathLine(),h=m.pathLine(),v=m.pathLine();function e(t){var n=l.dataSelector(t);n.entry.append("path").attr("class","overbought"),n.entry.append("path").attr("class","oversold"),n.entry.append("path").attr("class","aroon oscillator"),n.entry.append("path").attr("class","aroon oscillatorArea"),n.entry.append("path").attr("class","aroon middle"),n.entry.append("path").attr("class","aroon up"),n.entry.append("path").attr("class","aroon down"),e.refresh(t)}function t(){d.init(l.accessor.d,l.xScale,l.accessor.oscillator,l.yScale),f.init(l.accessor.d,l.xScale,l.accessor.oscillator,l.yScale,0),p.init(l.accessor.d,l.xScale,l.accessor.m,l.yScale),h.init(l.accessor.d,l.xScale,l.accessor.up,l.yScale),v.init(l.accessor.d,l.xScale,l.accessor.down,l.yScale)}return e.refresh=function(t){var n,e,r,a,c,o,i,u,s;t=l.dataSelector.select(t),n=l.accessor,e=l.xScale,r=l.yScale,a=m,c=d,o=f,i=p,u=h,s=v,t.select("path.overbought").attr("d",a.horizontalPathLine(n.d,e,n.ob,r)),t.select("path.oversold").attr("d",a.horizontalPathLine(n.d,e,n.os,r)),t.select("path.aroon.oscillator").attr("d",c),t.select("path.aroon.oscillatorArea").attr("d",o),t.select("path.aroon.middle").attr("d",i),t.select("path.aroon.up").attr("d",u),t.select("path.aroon.down").attr("d",s)},r(e,l).plot(n(),t).dataSelector(r.dataMapper.array),t(),e}}},{}],40:[function(t,n,e){n.exports=function(n,o,i){return function(){var r={},a=o.pathLine(),c=o.pathLine();function e(t){var n=r.dataSelector(t);n.entry.append("path").attr("class","up"),n.entry.append("path").attr("class","down"),e.refresh(t)}function t(){a.init(r.accessor.d,r.xScale,r.accessor.up,r.yScale),c.init(r.accessor.d,r.xScale,r.accessor.dn,r.yScale)}return e.refresh=function(t){var n,e;t=r.dataSelector.select(t),n=a,e=c,t.select("path.up").attr("d",n),t.select("path.down").attr("d",e)},i(e,r).plot(n(),t).dataSelector(i.dataMapper.array),t(),e}}},{}],41:[function(t,n,e){function g(t,n,e,r,a){var c=e.scale();switch(r){case"left":case"right":t.attr("x",a*(Math.max(e.tickSizeInner(),0)+e.tickPadding())).attr("y",o(n,c)).attr("dy",".32em").style("text-anchor",a<0?"end":"start");break;case"top":case"bottom":t.attr("x",o(n,c)).attr("y",a*(Math.max(e.tickSizeInner(),0)+e.tickPadding())).attr("dy",a<0?"0em":".72em").style("text-anchor","middle")}}function o(n,e){return function(t){return e(n(t))}}n.exports=function(t,n,r,e,a){return function(){var l,d={},f=t(n()),p=14,h=50,v=[0,0],m="bottom";function e(t){var a,c,n=d.dataSelector.mapper((a=d.accessor,c=f.scale(),function(t){var n=(r=c.range())[0],e=r[r.length-1],r=n<e?[n,e]:[e,n];return t.filter(function(t){return null!==a(t)&&void 0!==a(t)&&null!==(t=c(a(t)))&&!isNaN(t)&&r[0]<=t&&t<=r[1]})}))(t);n.entry.append("path"),n.entry.append("text"),e.refresh(t)}return e.refresh=function(t){var n,e,r,a,c,o,i,u,s=l||(f.tickFormat()?f:f.scale()).tickFormat();t=d.dataSelector.select(t),n=d.accessor,e=f,s=s,a=p,c=h,o=4,i=v,u="left"===(r=m)||"top"===r?-1:1,t.attr("transform","translate("+i[0]+","+i[1]+")"),t.select("path").attr("d",((a,c,o,i,u,s,l)=>function(t){var n=c.scale()(a(t)),e=s;switch(o){case"left":case"right":var r=0;return i/2<s?e=i/2:r=i/2-s,"M 0 "+n+" l "+l*Math.max(c.tickSizeInner(),1)+" "+-e+" l 0 "+-r+" l "+l*u+" 0 l 0 "+i+" l "+l*-u+" 0 l 0 "+-r;case"top":case"bottom":r=0;return u/2<s?e=u/2:r=u/2-s,"M "+n+" 0 l "+-e+" "+l*Math.max(c.tickSizeInner(),1)+" l "+-r+" 0 l 0 "+l*i+" l "+u+" 0 l 0 "+l*-i+" l "+-r+" 0";default:throw"Unsupported orient value: axisannotation.orient("+o+"). Set to one of: 'top', 'bottom', 'left', 'right'"}})(n,e,r,a,c,o,u)),t.select("text").text(((n,e)=>function(t){return e(n(t))})(n,s)).call(g,n,e,r,u)},e.axis=function(t){return arguments.length?(f=t,e):f},e.orient=function(t){return arguments.length?(m=t,e):m},e.format=function(t){return arguments.length?(l=t,e):l},e.height=function(t){return arguments.length?(p=t,e):p},e.width=function(t){return arguments.length?(h=t,e):h},e.translate=function(t){return arguments.length?(v=t,e):v},a(e,d).accessor(r()).dataSelector(),e}}},{}],42:[function(t,n,e){n.exports=function(n,r,u){return function(){var a={},c=r.pathLine(),o=r.pathLine(),i=r.pathLine();function e(t){var n=a.dataSelector(t);n.entry.append("path").attr("class","upper"),n.entry.append("path").attr("class","middle"),n.entry.append("path").attr("class","lower"),e.refresh(t)}function t(){c.init(a.accessor.d,a.xScale,a.accessor.upper,a.yScale),o.init(a.accessor.d,a.xScale,a.accessor.middle,a.yScale),i.init(a.accessor.d,a.xScale,a.accessor.lower,a.yScale)}return e.refresh=function(t){var n,e,r;t=a.dataSelector.select(t),n=c,e=o,r=i,t.select("path.upper").attr("d",n),t.select("path.middle").attr("d",e),t.select("path.lower").attr("d",r)},u(e,a).plot(n(),t).dataSelector(u.dataMapper.array),t(),e}}},{}],43:[function(t,n,e){n.exports=function(t,n,i,u,s){return function(){var n,e,r,l={};function a(t){var n=l.dataSelector(t);u.appendPathsUpDownEqual(n.selection,l.accessor,["candle","body"]),u.appendPathsUpDownEqual(n.selection,l.accessor,["candle","wick"]),a.refresh(t)}function t(){n=u.joinPath(c),e=u.joinPath(o),r=u.scaledStrokeWidth(l.xScale,1,4)}function c(){var a=l.accessor,c=l.xScale,o=l.yScale,i=l.width(c);return function(t){var n=o(a.o(t)),e=o(a.c(t)),t=c(a.d(t))-i/2,r="M "+t+" "+n+" l "+i+" 0";return n!=e&&(r+=" L "+(t+i)+" "+e+" l "+-i+" 0 L "+t+" "+n),r}}function o(){var o=l.accessor,i=l.xScale,u=l.yScale,s=l.width(i);return function(t){var n=u(o.o(t)),e=u(o.c(t)),r=i(o.d(t)),a=r-s/2,c="M "+r+" "+u(o.h(t))+" L "+r+" "+Math.min(n,e);return n==e&&(c+=" M "+a+" "+n+" l "+s+" 0"),c+" M "+r+" "+Math.max(n,e)+" L "+r+" "+u(o.l(t))}}return a.refresh=function(t){t.selectAll("path.candle.body").attr("d",n),t.selectAll("path.candle.wick").attr("d",e).style("stroke-width",r)},s(a,l).plot(i(),t).width(t).dataSelector(s.dataMapper.array),t(),a}}},{}],44:[function(t,n,e){n.exports=function(l,d,f,p,t,h,v,m,g,y){return function(){var e={},n=h("mouseenter","mouseover","mouseout","drag","dragstart","dragend","selected","unselected"),r=function(t){return e.yScale(e.accessor.p(t))},a=y().orient("up").tail(!1),c=[];function o(t){var n=e.dataSelector(t);n.entry.append("g").attr("class","comment").append("path"),n.entry.append("g").attr("class","interaction").style("fill","none").append("path"),o.refresh(t)}function i(t){t.select(".comment path").classed("comment",!0).each(function(t){t=u(t);f(this).datum(t).attr("d",a)}),t.select(".interaction path").classed("comment",!0).each(function(t){t=u(t);f(this).datum(t).attr("d",a)}).on("mouseenter",function(t){f(this).classed("highlighted",!0),n.call("mouseenter",this,t)}).on("mouseover",function(t){f(this).classed("highlighted",!0),n.call("mouseover",this,t)}).on("mouseout",function(t){f(this).classed("highlighted",!1),n.call("mouseout",this,t)}).on("click",function(t){f(this).classed("selected")?(f(this).classed("selected",!1),n.call("unselected",this,t)):(f(this).classed("selected",!0),n.call("selected",this,t))})}function u(t){return void 0!==c[t.date]&&(t.price=c[t.date].low,t.low=c[t.date].low,t.high=c[t.date].high),t}function s(){return a.x(function(t){return e.xScale(e.accessor.d(t))}).y(r),o}return o.refresh=function(t){i(e.dataSelector.select(t))},o.drag=function(t){var r,a,c;t.selectAll(".interaction path.comment").call((r=n,a=e.accessor,c=e.xScale,t=l().subject(function(t){return{x:c(a.d(t)),y:0}}).on("drag",function(t){var n=c.invert(d().x),e=f(this.parentNode.parentNode);a.nd(t,n),i(e),r.call("drag",this,t)}),m.interaction.dragStartEndDispatch(t,r)))},o.orient=function(t){return arguments.length?(a.orient(t),s()):a.orient()},o.y=function(t){return arguments.length?(r=p(t),s()):r},o.arrow=function(){return a},o.stockData=function(t){c=t},g(o,e).plot(v(),s).on(n).dataSelector(g.dataMapper.unity),s(),o}}},{}],45:[function(t,n,e){n.exports=function(t,n,z,a,c,o,i){return function(){var y,S,x,k,w,b={},M=a("enter","out","move","click1","click2"),s=o.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()}),l=o.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()}),L={clickclosed:!0};function e(t){var n=b.dataSelector(t);n.entry.append("path").attr("class","horizontal wire"),n.entry.append("path").attr("class","vertical wire"),n.entry.append("g").attr("class","axisannotation x").call(s),n.entry.append("g").attr("class","axisannotation y").call(l),t.selectAll("rect").data([void 0]).enter().append("rect").style("fill","none").style("pointer-events","all"),e.refresh(t)}function D(t,n,e,r,a){var c,o,i,u=t.node().__coord__;void 0!==u&&(c=t.datum(),o=b.xScale.invert(u[0]),u=b.yScale.invert(u[1]),i=null!==o&&null!==u&&(b.accessor.xv(c)!==o||b.accessor.yv(c)!==u),b.accessor.xv(c,o),b.accessor.yv(c,u),i)&&M.call("move",t.node(),c),n.attr("d",y),e.attr("d",S),r.call(s.refresh),a.call(l.refresh),t.attr("display",d)}function n(){return s.accessor(b.accessor.xv).scale(b.xScale),l.accessor(b.accessor.yv).scale(b.yScale),e}function N(t){return b.accessor.xv(t=t||{},null),b.accessor.yv(t,null),t}function r(t){return void 0===t||null===b.accessor.xv(t)||null===b.accessor.yv(t)}function d(t){return r(t)?"none":null}return e.refresh=function(t){var e,n,i,u,r,a,c,o,s,l,d=b.xScale.range(),f=b.yScale.range(),p=b.dataSelector.select(t),h=p.select("path.vertical"),v=p.select("path.horizontal"),m=p.select("g.axisannotation.x"),g=p.select("g.axisannotation.y");e=x||b.yScale.range(),y=function(t){var n;return null===b.accessor.xv(t)||(t=b.xScale(b.accessor.xv(t)),n=b.xScale.range(),t<Math.min(n[0],n[n.length-1]))||t>Math.max(n[0],n[n.length-1])?null:"M "+t+" "+e[0]+" L "+t+" "+e[e.length-1]},n=k||b.xScale.range(),S=function(t){return null===b.accessor.yv(t)||(t=b.yScale(b.accessor.yv(t)),isNaN(t))?null:"M "+n[0]+" "+t+" L "+n[n.length-1]+" "+t},t.selectAll("rect").attr("x",Math.min.apply(null,d)).attr("y",Math.min.apply(null,f)).attr("height",Math.abs(f[f.length-1]-f[0])).attr("width",Math.abs(d[d.length-1]-d[0])).on("mouseenter",function(){M.call("enter",this)}).on("mouseout",function(){M.call("out",this),delete p.node().__coord__,N(p.datum()),D(p,h,v,m,g)}).on("mousemove",(r=p,a=h,c=v,o=m,s=g,l=L,function(){var t;r.node().__coord__=z(this),l.clickclosed||(t=r.node().__coord__,w.attr("x2",t[0]).attr("y2",t[1])),D(r,a,c,o,s)})).on("click",(i=p,u=L,function(){i.node().__coord__=z(this);var t,n,e,r,a=i,c=u,o=a.node().__coord__;void 0!==o&&(t=a.datum(),n=b.xScale.invert(o[0]),e=b.yScale.invert(o[1]),r=null!==n&&null!==e,b.accessor.xv(t,n),b.accessor.yv(t,e),r)&&(c.clickclosed?(w=a.append("line").attr("class","dynamic-line").attr("x1",o[0]).attr("y1",o[1]).attr("x2",o[0]).attr("y2",o[1]),M.call("click1",a.node(),t)):(w.remove(),w=void 0,M.call("click2",a.node(),t))),u.clickclosed?u.clickclosed=!1:u.clickclosed=!0})),D(p,h,v,m,g)},e.xAnnotation=function(t){return arguments.length?(s.plots(t instanceof Array?t:[t]),n()):s.plots()},e.yAnnotation=function(t){return arguments.length?(l.plots(t instanceof Array?t:[t]),n()):l.plots()},e.verticalWireRange=function(t){return arguments.length?(x=t,n()):x},e.horizontalWireRange=function(t){return arguments.length?(k=t,n()):k},i(e,b).plot(c(),n).dataSelector(function(t){return r(t)?[N()]:[t]}).on(M),b.dataSelector.scope("crosshair"),n()}}},{}],46:[function(t,n,e){function v(){return Math.random().toString(36).substr(2,9)}n.exports=function(n,d,f,p,h){return function(){var a={},e=n().curve(d).defined(function(t){return null!==a.accessor.sb(t)}).x(function(t){return a.xScale(a.accessor.d(t),a.accessor.pks(t))}).y0(function(t){return a.yScale(a.accessor.sb(t))}),r=n().curve(d).defined(function(t){return null!==a.accessor.sa(t)&&null!==a.accessor.sb(t)}).x(function(t){return a.xScale(a.accessor.d(t),a.accessor.pks(t))}).y0(function(t){return a.yScale(a.accessor.sa(t))}).y1(function(t){return a.yScale(a.accessor.sb(t))}),c=p.pathLine(),o=p.pathLine(),i=p.pathLine(),u=p.pathLine(),s=p.pathLine();function l(t){var n=a.dataSelector(t),e="kumoclipup-"+v(),r="kumoclipdown-"+v();n.entry.append("clipPath").attr("id",r).attr("class","kumoclipdown").append("path"),n.entry.append("clipPath").attr("id",e).attr("class","kumoclipup").append("path"),n.entry.append("path").attr("class","kumo down").attr("clip-path","url(#"+r+")"),n.entry.append("path").attr("class","kumo up").attr("clip-path","url(#"+e+")"),n.entry.append("path").attr("class","senkouspanb"),n.entry.append("path").attr("class","senkouspana"),n.entry.append("path").attr("class","chikouspan"),n.entry.append("path").attr("class","kijunsen"),n.entry.append("path").attr("class","tenkansen"),l.refresh(t)}function t(){var n;c.init(a.accessor.d,a.xScale,a.accessor.sa,a.yScale,a.accessor.pks),o.init(a.accessor.d,a.xScale,a.accessor.sb,a.yScale,a.accessor.pks),i.init(a.accessor.d,a.xScale,a.accessor.c,a.yScale,(n=a.accessor.pks,function(t){return-n(t)})),u.init(a.accessor.d,a.xScale,a.accessor.ts,a.yScale),s.init(a.accessor.d,a.xScale,a.accessor.ks,a.yScale)}return l.refresh=function(t){var n;t=a.dataSelector.select(t),n=a.yScale,t.select(".kumoclipdown path").attr("d",e.y1(n.range()[0])),t.select(".kumoclipup path").attr("d",e.y1(n.range()[1])),t.select("path.kumo.down").attr("d",r),t.select("path.kumo.up").attr("d",r),t.select("path.senkouspanb").attr("d",o),t.select("path.senkouspana").attr("d",c),t.select("path.chikouspan").attr("d",i),t.select("path.kijunsen").attr("d",s),t.select("path.tenkansen").attr("d",u)},h(l,a).plot(f(),t).dataSelector(h.dataMapper.array),t(),l}}},{}],47:[function(s,t,n){function l(){return d3.event}t.exports=function(t){var n=s("../scale")(t),e=s("../accessor")(),r=s("./plot")(t.line,t.area,t.curveMonotoneX,t.select),a=s("../util")().functor,n=s("./plotmixin")(t.scaleLinear,a,n.financetime,r.dataSelector,r.barWidth),c=s("./candlestick")(t.scaleLinear,t.extent,e.ohlc,r,n),o=s("./line"),i=s("./axisannotation")(t.axisTop,t.scaleLinear,e.value,r,n),u=s("../svg")(t);return{adx:s("./adx")(e.adx,r,n),aroon:s("./aroon")(e.aroon,r,n),atr:o(e.value,r,n),atrtrailingstop:s("./atrtrailingstop")(e.atrtrailingstop,r,n),axisannotation:i,bollinger:s("./bollinger")(e.bollinger,r,n),candlestick:c,close:o(e.ohlc,r,n),crosshair:s("./crosshair")(t.select,l,t.mouse,t.dispatch,e.crosshair,r,n),ema:o(e.value,r,n),heikinashi:c,ichimoku:s("./ichimoku")(t.area,t.curveMonotoneX,e.ichimoku,r,n),macd:s("./macd")(e.macd,r,n),momentum:o(e.value,r,n,!0),moneyflow:o(e.value,r,n,!0),ohlc:s("./ohlc")(t.scaleLinear,t.extent,e.ohlc,r,n),roc:o(e.value,r,n,!0),rsi:s("./rsi")(e.rsi,r,n),sma:o(e.value,r,n),sroc:o(e.value,r,n,!0),stochastic:s("./stochastic")(e.stochastic,r,n),supstance:s("./supstance")(t.drag,l,t.select,t.dispatch,e.supstance,r,n),stopline:s("./stopline")(t.drag,l,t.select,t.dispatch,e.stopline,r,n),tick:s("./tick")(t.scaleLinear,t.extent,e.tick,r,n),tradearrow:s("./tradearrow")(t.drag,l,t.select,a,t.mouse,t.dispatch,e.trade,r,n,u.arrow),comment:s("./comment")(t.drag,l,t.select,a,t.mouse,t.dispatch,e.trade,r,n,u.arrow),trendline:s("./trendline")(t.drag,l,t.select,t.dispatch,e.trendline,r,n),volume:s("./volume")(e.volume,r,n),vwap:o(e.value,r,n),wilderma:o(e.value,r,n),williams:s("./williams")(e.williams,r,n)}}},{"../accessor":8,"../scale":63,"../svg":66,"../util":69,"./adx":38,"./aroon":39,"./atrtrailingstop":40,"./axisannotation":41,"./bollinger":42,"./candlestick":43,"./comment":44,"./crosshair":45,"./ichimoku":46,"./line":48,"./macd":49,"./ohlc":50,"./plot":51,"./plotmixin":52,"./rsi":53,"./stochastic":54,"./stopline":55,"./supstance":56,"./tick":57,"./tradearrow":58,"./trendline":59,"./volume":60,"./williams":61}],48:[function(t,n,e){n.exports=function(n,s,r,l){return l=l||!1,function(){var i={},u=s.pathLine();function e(t){var n=i.dataSelector(t);n.entry.append("path").attr("class","line"),l&&n.selection.append("path").attr("class","zero"),e.refresh(t)}function t(){u.init(i.accessor.d,i.xScale,i.accessor,i.yScale)}return e.refresh=function(t){var n,e,r,a,c,o;t=i.dataSelector.select(t),n=i.accessor,e=i.xScale,r=i.yScale,a=s,c=u,o=l,t.select("path.line").attr("d",c),o&&t.select("path.zero").attr("d",a.horizontalPathLine(n.d,e,n.z,r))},r(e,i).plot(n(),t).dataSelector(r.dataMapper.array),t(),e}}},{}],49:[function(t,n,e){n.exports=function(r,f,a){return function(){var u,s={},l=f.pathLine(),d=f.pathLine();function e(t){var n=s.dataSelector(t);n.selection.append("path").attr("class","difference"),n.selection.append("path").attr("class","zero"),n.selection.append("path").attr("class","macd"),n.selection.append("path").attr("class","signal"),e.refresh(t)}function t(){u=f.joinPath(n),l.init(s.accessor.d,s.xScale,s.accessor.m,s.yScale),d.init(s.accessor.d,s.xScale,s.accessor.s,s.yScale)}function n(){var r=s.accessor,a=s.xScale,c=s.yScale,o=s.width(a);return function(t){var n=c(0),e=c(r.dif(t))-n;return"M "+(a(r.d(t))-o/2)+" "+n+" l 0 "+e+" l "+o+" 0 l 0 "+-e}}return e.refresh=function(t){var n,e,r,a,c,o,i;t=s.dataSelector.select(t),n=s.accessor,e=s.xScale,r=s.yScale,a=f,c=u,o=l,i=d,t.select("path.difference").attr("d",c),t.select("path.zero").attr("d",a.horizontalPathLine(n.d,e,n.z,r)),t.select("path.macd").attr("d",o),t.select("path.signal").attr("d",i)},a(e,s).plot(r(),t).width(t).dataSelector(a.dataMapper.array),t(),e}}},{}],50:[function(t,n,e){n.exports=function(t,n,o,i,u){return function(){var n,e,r={};function a(t){i.appendPathsUpDownEqual(r.dataSelector(t).selection,r.accessor,"ohlc"),a.refresh(t)}function t(){n=i.joinPath(c),e=i.scaledStrokeWidth(r.xScale,1,2)}function c(){var a=r.accessor,c=r.xScale,o=r.yScale,i=r.width(c);return function(t){var n=o(a.o(t)),e=o(a.c(t)),r=c(a.d(t));return"M "+(r-i/2)+" "+n+" l "+i/2+" 0 M "+r+" "+o(a.h(t))+" L "+r+" "+o(a.l(t))+" M "+r+" "+e+" l "+i/2+" 0"}}return a.refresh=function(t){t.selectAll("path.ohlc").attr("d",n).style("stroke-width",e)},u(a,r).plot(o(),t).width(t).dataSelector(u.dataMapper.array),t(),a}}},{}],51:[function(t,n,e){n.exports=function(n,e,r,i){function t(e){var r,n,a=["data"];function c(t){var t=c.select(t).data(e,r),n=t.enter().append("g").attr("class",u(a," "));return t.exit().remove(),{entry:n,selection:n.merge(t)}}return c.select=function(t){return t.selectAll("g."+u(a,"."))},c.mapper=function(t){return arguments.length?(e=t,c):e},c.scope=function(t){return arguments.length?(a=["data","scope-"+(n=t)],c):n},c.key=function(t){return arguments.length?(r=t,c):r},c}function o(n){return{up:function(t){return n.o(t)<n.c(t)},down:function(t){return n.o(t)>n.c(t)},equal:function(t){return n.o(t)===n.c(t)}}}function a(r,t,n,a){var c=n instanceof Array?n:[n];a=a||o(t),Object.keys(a).forEach(function(t){var n,e;n=a[t],e=c,t=t,r.selectAll("path."+u(e,".")+"."+t).data(function(t){return[t.filter(n)]}).enter().append("path").attr("class",u(e," ")+" "+t)})}function c(t){return void 0!==t.band?Math.max(t.band(),1):3}function u(t,n){if(t.length){for(var e=t[0],r=1;r<t.length;r++)e+=n+t[r];return e}}return t.mapper={unity:function(t){return t},array:function(t){return[t]}},{dataSelector:t,appendPathsGroupBy:a,appendPathsUpDownEqual:function(t,n,e){a(t,n,e,o(n))},horizontalPathLine:function(e,r,a,c){return function(t){var n;return t.length?(n=t[t.length-1],"M "+r(e(t=t[0]))+" "+c(a(t))+" L "+r(e(n))+" "+c(a(n))):null}},pathLine:function(){var o=n().curve(r);function t(t){return o(t)}return t.init=function(n,e,r,a,c){return o.defined(function(t){return null!==r(t)}).x(function(t){return e(n(t),void 0===c?c:c(t))}).y(function(t){return a(r(t))})},t.d3=function(){return o},t},pathArea:function(){var o=e().curve(r);function t(t){return o(t)}return t.init=function(n,e,r,a,c){return o.defined(function(t){return null!==r(t)}).x(function(t){return e(n(t))}).y0(function(t){return a(c)}).y1(function(t){return a(r(t))})},t.d3=function(){return o},t},barWidth:c,scaledStrokeWidth:function(t,n,e){return n=n||1,e=e||1,function(){return Math.min(n,c(t)/e)+"px"}},joinPath:function(n){return function(t){return u(t.map(n())," ")}},interaction:{mousedispatch:function(e){return function(t){return t.on("mouseenter",function(t){i(this.parentNode).classed("mouseover",!0),e.call("mouseenter",this,t)}).on("mouseleave",function(t){var n=i(this.parentNode);n.classed("dragging")||(n.classed("mouseover",!1),e.call("mouseout",this,t))}).on("mousemove",function(t){e.call("mousemove",this,t)}).on("click",function(t){var n=i(this.parentNode);n.classed("selected")?(n.classed("selected",!1),e.call("unselected",this,t)):(n.classed("selected",!0),e.call("selected",this,t))})}},dragStartEndDispatch:function(t,n){return t.on("start",function(t){i(this.parentNode.parentNode).classed("dragging",!0),n.call("dragstart",this,t)}).on("end",function(t){i(this.parentNode.parentNode).classed("dragging",!1),n.call("dragend",this,t)})}},plotComposer:function(){var r,a,n=t(),c=[],o=function(t){return t.scale()};function e(t){n.mapper(function(){return c.map(function(){return[]})})(t).selection.each(function(t,n){c[n](i(this))}),e.refresh(t)}return e.refresh=function(t){n.select(t).data(function(t){var n,e=a(t);return null==e?c.map(function(){return[]}):(n=r(e),c.map(function(t){return[{value:o(t)===r?e:o(t).invert(n)}]}))}).each(function(t,n){c[n](i(this))})},e.plots=function(t){return arguments.length?(c=t,e):c},e.scale=function(t){return arguments.length?(r=t,e):r},e.accessor=function(t){return arguments.length?(a=t,e):a},e.scope=function(t){return arguments.length?(n.scope(t),e):n.scope()},e.plotScale=function(t){return arguments.length?(o=t,e):o},e}}}},{}],52:[function(t,n,e){n.exports=function(t,r,o,i,u){function n(a,e){var c={dataSelector:function(t,n){return e.dataSelector=i(t).key(n),c},xScale:function(n){return e.xScale=o(),a.xScale=function(t){return arguments.length?(e.xScale=t,n&&n(),a):e.xScale},c},yScale:function(n){return e.yScale=t(),a.yScale=function(t){return arguments.length?(e.yScale=t,n&&n(),a):e.yScale},c},accessor:function(t,n){return e.accessor=t,a.accessor=function(t){return arguments.length?(e.accessor=t,n&&n(),a):e.accessor},c},width:function(n){return e.width=u,a.width=function(t){return arguments.length?(e.width=r(t),n&&n(),a):e.width},c},on:function(e,r){return a.on=function(t,n){return e.on(t,n),r&&r(),a},c},plot:function(t,n){return c.xScale(n).yScale(n).accessor(t,n)}};return c}return n.dataMapper=i.mapper,n}},{}],53:[function(t,n,e){n.exports=function(n,u,r){return function(){var o={},i=u.pathLine();function e(t){var n=o.dataSelector(t);n.entry.append("path").attr("class","overbought"),n.entry.append("path").attr("class","middle"),n.entry.append("path").attr("class","oversold"),n.entry.append("path").attr("class","rsi"),e.refresh(t)}function t(){i.init(o.accessor.d,o.xScale,o.accessor.r,o.yScale)}return e.refresh=function(t){var n,e,r,a,c;t=o.dataSelector.select(t),n=o.accessor,e=o.xScale,r=o.yScale,a=u,c=i,t.select("path.overbought").attr("d",a.horizontalPathLine(n.d,e,n.ob,r)),t.select("path.middle").attr("d",a.horizontalPathLine(n.d,e,n.m,r)),t.select("path.oversold").attr("d",a.horizontalPathLine(n.d,e,n.os,r)),t.select("path.rsi").attr("d",c)},r(e,o).plot(n(),t).dataSelector(r.dataMapper.array),t(),e}}},{}],54:[function(t,n,e){n.exports=function(n,l,r){return function(){var i={},u=l.pathLine(),s=l.pathLine();function e(t){var n=i.dataSelector(t);n.entry.append("path").attr("class","overbought"),n.entry.append("path").attr("class","oversold"),n.entry.append("path").attr("class","stochastic k"),n.entry.append("path").attr("class","stochastic d"),e.refresh(t)}function t(){u.init(i.accessor.d,i.xScale,i.accessor.k,i.yScale),s.init(i.accessor.d,i.xScale,i.accessor.sd,i.yScale)}return e.refresh=function(t){var n,e,r,a,c,o;t=i.dataSelector.select(t),n=i.accessor,e=i.xScale,r=i.yScale,a=l,c=u,o=s,t.select("path.overbought").attr("d",a.horizontalPathLine(n.d,e,n.ob,r)),t.select("path.oversold").attr("d",a.horizontalPathLine(n.d,e,n.os,r)),t.select("path.stochastic.k").attr("d",c),t.select("path.stochastic.d").attr("d",o)},r(e,i).plot(n(),t).dataSelector(r.dataMapper.array),t(),e}}},{}],55:[function(t,n,e){n.exports=function(n,o,p,a,c,h,v){return function(){var i,u={},e=a("mouseenter","mouseout","mousemove","drag","dragstart","dragend","selected","unselected","cutoff"),s=h.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()});function r(t){var o,n=u.dataSelector(t),n=(n.entry.append("g").attr("class","stopline").append("path"),n.entry.append("g").attr("class","axisannotation y").call(s),n.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call((o=e,function(t){return t.on("mouseenter",function(t){p(this.parentNode).classed("mouseover",!0),o.call("mouseenter",this,t)}).on("mouseleave",function(t){i.transition().duration(100).style("opacity",0);var n=p(this.parentNode);n.classed("dragging")||(n.classed("mouseover",!1),o.call("mouseout",this,t))}).on("mousemove",function(t){for(var n,e=u.xScale.invert(d3.mouse(this)[0]),r=u.accessor.sz(t),a=u.accessor.v(t),c=r-1;0<=c;c--)if(e>=a[c].date){n=a[c].price;break}i.transition().duration(100).style("opacity",.9),i.html("&nbsp;stop: "+n).style("left",d3.event.pageX+"px").style("top",d3.event.pageY+"px"),o.call("mousemove",this,t)}).on("click",function(t){var n=p(this.parentNode);n.classed("selected")?(n.classed("selected",!1),o.call("unselected",this,t)):(n.classed("selected",!0),o.call("selected",this,t))}).on("dblclick",function(t){var n,e=u.xScale.invert(d3.mouse(this)[0]),r=u.accessor.sz(t),a=u.accessor.v(t);e>a[r-1].date?n=a[r-1].price:2<r&&a[r-1].price===a[r-2].price&&e>a[r-2].date&&(n=a[r-2].price,u.accessor.c(t)),void 0!==n&&(u.accessor.v(t,{date:e,price:n}),p(this.parentNode).select(".stopline path").attr("d",f(u.accessor,u.xScale,u.yScale)),p(this.parentNode).select(".interaction path").attr("d",f(u.accessor,u.xScale,u.yScale)),p(this.parentNode).select(".axisannotation.y").call(s.refresh),p(this.parentNode).select("circle.end").attr("cx",l(t,u.xScale)).attr("cy",d(t,u.yScale)),o.call("cutoff",this,t))})})));n.append("path").style("stroke-width","8px"),n.append("circle").attr("class","end").attr("r",8),(i=p("body>.stopline.tooltip")).empty()&&(i=p("body").append("div").attr("class","stopline tooltip").style("opacity",0)),r.refresh(t)}function l(t,n){var e=u.accessor.sz(t),t=u.accessor.v(t),r=n.range();return 1===e?r[1]:1<e?t[e-1].price!==t[e-2].price?r[1]:n(t[e-1].date):void 0}function d(t,n){var e=u.accessor.sz(t);return n(u.accessor.v(t)[e-1].price)}function f(o,i,u){return function(t){var n,e="",r=i.range();if(0<o.sz(t)){n=o.v(t),e+="M "+i(n[0].date)+" "+u(n[0].price);for(var a=0,c=o.sz(t);a<c;++a)a===c-1?2<=c&&n[a].price===n[a-1].price||(e+=" L "+r[1]+" "+u(n[a].price)):e+=" L "+i(n[a+1].date)+" "+u(n[a].price)+" L "+i(n[a+1].date)+" "+u(n[a+1].price)}return e}}function t(){return s.accessor(u.accessor.v).scale(u.yScale),r}return r.drag=function(t){var c;t.selectAll(".stopline .interaction .end").call((c=e,(t=n()).subject(function(t){return{x:o().x,y:0}}).on("drag",function(t){var n=u.xScale.invert(o().x),e=u.accessor.sz(t),r=u.accessor.v(t),a=r[e-1].price;void 0!==a&&(1===e?u.accessor.v(t,{date:n,price:a}):1<e&&(r[e-1].price===r[e-2].price&&u.accessor.c(t),u.accessor.v(t,{date:n,price:a})),p(this.parentNode.parentNode).select(".stopline path").attr("d",f(u.accessor,u.xScale,u.yScale)),p(this.parentNode.parentNode).select(".interaction path").attr("d",f(u.accessor,u.xScale,u.yScale)),p(this.parentNode.parentNode).select(".axisannotation.y").call(s.refresh),p(this.parentNode.parentNode).select("circle.end").attr("cx",l(t,u.xScale)).attr("cy",d(t,u.yScale))),c.call("drag",this,t)}),h.interaction.dragStartEndDispatch(t,c)))},r.refresh=function(t){var n,e,r,a;t=u.dataSelector.select(t),n=u.accessor,e=u.xScale,r=u.yScale,a=s,t.each(function(t){p(this).select(".stopline path").attr("d",f(n,e,r)),p(this).select(".interaction path").attr("d",f(n,e,r)),p(this).select(".axisannotation.y").call(a.refresh),p(this).select("circle.end").attr("cx",l(t,e)).attr("cy",d(t,r))})},r.annotation=function(t){return arguments.length?(s.plots(t instanceof Array?t:[t]),r):s.plots()},v(r,u).dataSelector(v.dataMapper.unity).plot(c(),t).on(e),u.dataSelector.scope("stopline"),t()}}},{}],56:[function(t,n,e){function h(t,n,e,r,a){t.select(".supstance path").attr("d",c(n,e,r)),t.select(".interaction path").attr("d",c(n,e,r)),t.select(".axisannotation.y").call(a.refresh)}function c(r,a,c){return function(t){var n,e;return void 0!==(e=r).s&&void 0!==e.e?((n=[r.s(t),r.e(t)])[0]=void 0!==n[0]?a(n[0]):a.range()[0],n[1]=void 0!==n[1]?a(n[1]):a.range()[1]):n=a.range(),"M "+n[0]+" "+c(r(t))+" L "+n[n.length-1]+" "+c(r(t))}}n.exports=function(n,d,f,e,c,p,o){return function(){var r,u={},s=e("mouseenter","mouseout","mousemove","drag","dragstart","dragend","selected","unselected"),l=p.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()});function a(t){var e,n=u.dataSelector(t);n.entry.append("g").attr("class","supstance").append("path"),n.entry.append("g").attr("class","axisannotation y").call(l),n.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call((e=s,function(t){return t.on("mouseenter",function(t){r.transition().duration(100).style("opacity",.9),r.html("&nbsp;supstance: "+u.accessor.v(t)).style("left",d3.event.pageX+"px").style("top",d3.event.pageY+"px"),f(this.parentNode).classed("mouseover",!0),e.call("mouseenter",this,t)}).on("mouseleave",function(t){r.transition().duration(100).style("opacity",0);var n=f(this.parentNode);n.classed("dragging")||(n.classed("mouseover",!1),e.call("mouseout",this,t))}).on("mousemove",function(t){e.call("mousemove",this,t)}).on("click",function(t){var n=f(this.parentNode);n.classed("selected")?(n.classed("selected",!1),e.call("unselected",this,t)):(n.classed("selected",!0),e.call("selected",this,t))})})).append("path").style("stroke-width","16px"),(r=f("body>.supstance.tooltip")).empty()&&(r=f("body").append("div").attr("class","supstance tooltip").style("opacity",0)),a.refresh(t)}function t(){return l.accessor(u.accessor.v).scale(u.yScale),a}return a.refresh=function(t){h(u.dataSelector.select(t),u.accessor,u.xScale,u.yScale,l)},a.drag=function(t){var r,a,c,o,i;t.selectAll(".interaction path").call((r=s,a=u.accessor,c=u.xScale,o=u.yScale,i=l,t=n().subject(function(t){return{x:0,y:o(a(t))}}).on("drag",function(t){var n=o.invert(d().y),e=f(this.parentNode.parentNode);a.v(t,n),h(e,a,c,o,i),r.call("drag",this,t)}),p.interaction.dragStartEndDispatch(t,r)))},a.annotation=function(t){return arguments.length?(l.plots(t instanceof Array?t:[t]),a):l.plots()},o(a,u).dataSelector(o.dataMapper.unity).plot(c(),t).on(s),u.dataSelector.scope("supstance"),t()}}},{}],57:[function(t,n,e){n.exports=function(t,n,o,i,u){return function(){var n,e,r={};function a(t){r.dataSelector(t).entry.append("path").attr("class","tick"),a.refresh(t)}function t(){n=i.joinPath(c),e=i.scaledStrokeWidth(r.xScale,1,2)}function c(){var a=r.accessor,c=r.xScale,o=r.yScale,i=r.width(c);return function(t){var n=o(a.h(t)),e=o(a.l(t)),t=c(a.d(t)),r=t-i/2;return"M "+r+" "+n+" l "+i+" 0 M "+t+" "+n+" L "+t+" "+e+" M "+r+" "+e+" l "+i+" 0"}}return a.refresh=function(t){r.dataSelector.select(t).select("path.tick").attr("d",n).style("stroke-width",e)},u(a,r).plot(o(),t).width(t).dataSelector(u.dataMapper.array),t(),a}}},{}],58:[function(t,n,e){n.exports=function(l,d,f,p,t,h,v,m,g,y){return function(){var e={},n=h("mouseenter","mouseover","mouseout","drag","dragstart","dragend","selected","unselected"),r=function(t){return e.yScale(e.accessor.p(t))},a=y().orient(function(t){return"buy"===e.accessor.t(t)?"up":"down"}),c=[];function o(t){var n=e.dataSelector(t);n.entry.append("g").attr("class","tradearrow").append("path"),n.entry.append("g").attr("class","interaction").style("fill","none").append("path"),o.refresh(t)}function i(t,e){t.select(".tradearrow path").classed("tradearrow",!0).each(function(t){var n=u(t);f(this).datum(n).attr("d",a).classed(e.t(t),!0)}),t.select(".interaction path").classed("tradearrow",!0).each(function(t){var n=u(t);f(this).datum(n).attr("d",a).classed(e.t(t),!0)}).on("mouseenter",function(t){f(this).classed("highlighted",!0),n.call("mouseenter",this,t)}).on("mouseover",function(t){f(this).classed("highlighted",!0),n.call("mouseover",this,t)}).on("mouseout",function(t){f(this).classed("highlighted",!1),n.call("mouseout",this,t)}).on("click",function(t){f(this).classed("selected")?(f(this).classed("selected",!1),n.call("unselected",this,t)):(f(this).classed("selected",!0),n.call("selected",this,t))})}function u(t){return void 0!==c[t.date]&&(t.price=c[t.date].low,t.low=c[t.date].low,t.high=c[t.date].high),t}function s(){return a.x(function(t){return e.xScale(e.accessor.d(t))}).y(r),m.joinPath(function(){return a}),o}return o.refresh=function(t){i(e.dataSelector.select(t),e.accessor,e.xScale,e.yScale)},o.drag=function(t){var r,a,c;t.selectAll(".interaction path.tradearrow").call((r=n,a=e.accessor,c=e.xScale,e.yScale,t=l().subject(function(t){return{x:c(a.d(t)),y:0}}).on("drag",function(t){var n=c.invert(d().x),e=f(this.parentNode.parentNode);a.nd(t,n),i(e,a),r.call("drag",this,t)}),m.interaction.dragStartEndDispatch(t,r)))},o.orient=function(t){return arguments.length?(a.orient(t),s()):a.orient()},o.y=function(t){return arguments.length?(r=p(t),s()):r},o.arrow=function(){return a},o.stockData=function(t){c=t},g(o,e).plot(v(),s).on(n).dataSelector(g.dataMapper.unity),s(),o}}},{}],59:[function(t,n,e){function h(t,n,e,r){var a,c,o;t.selectAll("path.body").attr("d",(a=n,c=e,o=r,function(t){return"M "+c(a.sd(t))+" "+o(a.sv(t))+" L "+c(a.ed(t))+" "+o(a.ev(t))})),t.selectAll("circle.start").attr("cx",i(n.sd,e)).attr("cy",u(n.sv,r)),t.selectAll("circle.end").attr("cx",i(n.ed,e)).attr("cy",u(n.ev,r))}function i(n,e){return function(t){return e(n(t))}}function u(n,e){return function(t){return e(n(t))}}n.exports=function(u,s,l,t,n,d,e){function f(n,e,r,a,c,o){var t=u();return t.subject(function(t){return{x:a(r(t)),y:o(c(t))}}).on("drag",function(t){p(r,a,s().x,c,o,s().y,t),h(l(this.parentNode.parentNode.parentNode),e,a,o),n.call("drag",this,t)}),d.interaction.dragStartEndDispatch(t,n)}function p(t,n,e,r,a,c,o){n=n.invert(e);null!=n&&t(o,n),r(o,a.invert(c))}return function(){var o={},i=t("mouseenter","mouseout","mousemove","drag","dragstart","dragend","selected","unselected");function r(t){var n=o.dataSelector(t),e=n.entry.append("g").attr("class","trendline"),e=(e.append("path").attr("class","body"),e.append("circle").attr("class","start").attr("r",1),e.append("circle").attr("class","end").attr("r",1),n.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(d.interaction.mousedispatch(i)));e.append("path").attr("class","body").style("stroke-width","16px"),e.append("circle").attr("class","start").attr("r",8),e.append("circle").attr("class","end").attr("r",8),r.refresh(t)}return r.refresh=function(t){h(o.dataSelector.select(t),o.accessor,o.xScale,o.yScale)},r.drag=function(t){var n,e,r,a,c;t.selectAll(".interaction circle.start").call(f(i,o.accessor,o.accessor.sd,o.xScale,o.accessor.sv,o.yScale)),t.selectAll(".interaction circle.end").call(f(i,o.accessor,o.accessor.ed,o.xScale,o.accessor.ev,o.yScale)),t.selectAll(".interaction path.body").call((n=i,e=o.accessor,r=o.xScale,a=o.yScale,c={},(t=u()).subject(function(t){return c.start={date:r(e.sd(t)),value:a(e.sv(t))},c.end={date:r(e.ed(t)),value:a(e.ev(t))},{x:0,y:0}}).on("drag",function(t){p(e.sd,r,s().x+c.start.date,e.sv,a,s().y+c.start.value,t),p(e.ed,r,s().x+c.end.date,e.ev,a,s().y+c.end.value,t),h(l(this.parentNode.parentNode.parentNode),e,r,a),n.call("drag",this,t)}),d.interaction.dragStartEndDispatch(t,n)))},e(r,o).dataSelector(e.dataMapper.unity).plot(n()).on(i),r}}},{}],60:[function(t,n,e){n.exports=function(o,i,u){return function(){var n,e={};function r(t){var n=e.dataSelector(t);a()?i.appendPathsUpDownEqual(n.selection,e.accessor,"volume"):n.entry.append("path").attr("class","volume"),r.refresh(t)}function t(){n=i.joinPath(c)}function a(){return e.accessor.o&&e.accessor.c}function c(){var r=e.accessor,a=e.xScale,c=e.yScale,o=e.width(a);return function(t){var n,e=r.v(t);return isNaN(e)?null:(n=c(0),e=c(e)-n,"M "+(a(r.d(t))-o/2)+" "+n+" l 0 "+e+" l "+o+" 0 l 0 "+-e)}}return r.refresh=function(t){(a()?t.selectAll("path.volume"):e.dataSelector.select(t).select("path.volume")).attr("d",n)},u(r,e).plot(o(),t).width(t).dataSelector(u.dataMapper.array),t(),r}}},{}],61:[function(t,n,e){n.exports=function(a,c,o){return function(){var n={},e=c.pathLine();function r(t){n.dataSelector(t).entry.append("path").attr("class","williams up"),r.refresh(t)}function t(){e.init(n.accessor.d,n.xScale,n.accessor.w,n.yScale)}return r.refresh=function(t){n.dataSelector.select(t).select("path.williams.up").attr("d",e)},o(r,n).plot(a(),t).dataSelector(o.dataMapper.array),t(),r}}},{}],62:[function(t,n,e){function h(e){return function(t){for(var n=0;n<e.length;n++)if(e[n][1](t))return e[n][0](t)}}n.exports=function(g,t,y,S,x,k){function w(o,i,u,r,a,n,t,s,e){var c,l={tickFormat:o.daily[o.daily.length-1][2]},d=3;function f(t,n){var e=c[t instanceof Date?t.getTime():+t];return n=n||0,void 0===e&&(e=r[0]>t?-1:y(r,t)),u(e+n)}function p(){var t,n,e;return t=u,n=r,e=a,d=Math.abs(t(n.length-1)-t(0))/Math.max(1,n.length-1)*(1-e),f}function h(){c=b(r)}function v(){return h(),u.domain([0,r.length-1]),p(),u.domain(u.range().map(x(n,d)).map(u.invert)),t.domain=u.domain(),p()}function m(t,n,e){var r,a,c;return 1==t.length?i:(r=(a=(c=t[t.length-1]-t[0])/L<1)?o.intraday:o.daily,a=a?N:D,c=c/Math.min(Math.round(t.length/(n[n.length-1]-n[0])*e),e),(t=y(a,c))==r.length?r[t-1]:t?r[c/a[t-1]<a[t]/c?t-1:t]:r[t])}return u=u||g(),r=r||[new Date(0),new Date(1)],a=void 0===a?.2:a,n=void 0===n?.65:n,t=t||{domain:u.domain()},s=s||!1,e=e||k(u,p,t),f.invert=function(t){t=r[f.invertToIndex(t)];return t||null},f.invertToIndex=function(t){return Math.round(u.invert(t))},f.domain=function(t){return arguments.length?(r=t,v()):(t=u.domain())[0]<0&&t[t.length-1]<0?[]:(t=[Math.max(Math.ceil(t[0]),0),Math.min(Math.floor(t[t.length-1]),r.length-1)],r.slice(t[0],t[t.length-1]+1))},f.copy=function(){return w(o,i,u.copy(),r,a,n,t,s)},f.band=function(){return d},f.outerPadding=function(t){return arguments.length?(n=t,v()):n},f.padding=function(t){return arguments.length?(a=t,v()):a},f.zoomable=function(){return e},f.ticks=function(t,n){var e,r,a,c,o=f.domain(),i=u.domain();return o.length?(e=void 0===t?m(o,i,10):"number"==typeof t?m(o,i,t):null,l.tickFormat=(e||m(o,i,10))[2],e&&(t=e[0],n=e[1]),t.every(n).range(o[0],+o[o.length-1]+1).map((a=s,c=b(r=o),function(t){var n=c[+t];return void 0!==n||(n=y(r,t),a&&0<n&&+t-+r[n-1]<+r[n]-+t&&n--),r[n]})).reduce(M,[])):[]},f.closestTicks=function(t){return arguments.length?(s=t,f):s},f.tickFormat=function(){return function(t){return l.tickFormat(t)}},S(f,u,p,"range"),h(),p()}function b(t){var e={};return t.forEach(function(t,n){e[+t]=n}),e}function M(t,n){return 0!==t.length&&t[t.length-1]===n||t.push(n),t}var L=864e5,D=[L,6048e5,2592e6,7776e6,31536e6],N=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5],n=t.timeFormat("%b %e"),e=h([[t.timeFormat("%b %Y"),function(t){return t.getMonth()}],[t.timeFormat("%Y"),function(){return!0}]]),r=h([[t.timeFormat(":%S"),function(t){return t.getSeconds()}],[t.timeFormat("%I:%M"),function(t){return t.getMinutes()}],[t.timeFormat("%I %p"),function(){return!0}]]),a=[t.timeSecond,1,h([[t.timeFormat(":%S"),function(t){return t.getSeconds()}],[t.timeFormat("%I:%M"),function(t){return t.getMinutes()}],[t.timeFormat("%I %p"),function(t){return t.getHours()}],[t.timeFormat("%b %e"),function(){return!0}]])],c=t.utcFormat("%b %e"),o=h([[t.utcFormat("%b %Y"),function(t){return t.getUTCMonth()}],[t.utcFormat("%Y"),function(){return!0}]]),i=h([[t.utcFormat(":%S"),function(t){return t.getUTCSeconds()}],[t.utcFormat("%I:%M"),function(t){return t.getUTCMinutes()}],[t.utcFormat("%I %p"),function(){return!0}]]),u=[t.timeSecond,1,h([[t.utcFormat(":%S"),function(t){return t.getUTCSeconds()}],[t.utcFormat("%I:%M"),function(t){return t.getUTCMinutes()}],[t.utcFormat("%I %p"),function(t){return t.getUTCHours()}],[t.utcFormat("%b %e"),function(){return!0}]])],s=[[t.timeDay,1,n],[t.timeMonday,1,n],[t.timeMonth,1,e],[t.timeMonth,3,e],[t.timeYear,1,e]],l=[[t.timeSecond,1,r],[t.timeSecond,5,r],[t.timeSecond,15,r],[t.timeSecond,30,r],[t.timeMinute,1,r],[t.timeMinute,5,r],[t.timeMinute,15,r],[t.timeMinute,30,r],[t.timeHour,1,r],[t.timeHour,3,r],[t.timeHour,6,r],[t.timeHour,12,r],[t.timeDay,1,n]],d=[[t.utcDay,1,c],[t.utcMonday,1,c],[t.utcMonth,1,o],[t.utcMonth,3,o],[t.utcYear,1,o]],f=[[t.utcSecond,1,i],[t.utcSecond,5,i],[t.utcSecond,15,i],[t.utcSecond,30,i],[t.utcMinute,1,i],[t.utcMinute,5,i],[t.utcMinute,15,i],[t.utcMinute,30,i],[t.utcHour,1,i],[t.utcHour,3,i],[t.utcHour,6,i],[t.utcHour,12,i],[t.utcDay,1,c]];function p(){return w({daily:s,intraday:l},a)}return p.utc=function(){return w({daily:d,intraday:f},u)},p}},{}],63:[function(i,t,n){function u(t,n,e,r){return t.scaleLinear().domain((t=t,e=e,r=r,0<(n=n).length?t.extent(n,e).map(s(r)):[]))}function s(r,a){return r=r||0,function(t,n,e){if(2<e.length)throw"array.length > 2 unsupported. array.length = "+e.length;return t+(2*n-1)*(a=a||e[e.length-1]-e[0])*r}}function l(t,n){return t.map(n).reduce(function(t,n){return t.concat(n)}).filter(function(t){return null!==t})}t.exports=function(c){var t=i("./zoomable")(),n=i("../util")(),o=i("../accessor")(),e=i("./financetime")(c.scaleLinear,c,c.bisect,n.rebindCallback,s,t);function r(t,n){return n=n||o.ohlc(),c.scaleLinear().domain([c.min(t.map(n.low())),c.max(t.map(n.high()))].map(s(.02)))}function a(t,n,e){return n=n||o.value(),u(c,t,n,e=void 0===e?.02:e)}return{financetime:e,plot:{adx:function(){return c.scaleLinear().domain([0,100])},aroon:function(){return c.scaleLinear().domain([-100,100])},atr:a,atrtrailingstop:function(t,n){n=n||o.atrtrailingstop();t=l(t,function(t){return[n.up(t),n.dn(t)]});return c.scaleLinear().domain(c.extent(t).map(s(.04)))},bollinger:function(t,n){return n=n||o.bollinger(),c.scaleLinear().domain([c.min(t.map(function(t){return n.lower(t)})),c.max(t.map(function(t){return n.upper(t)}))].map(s(.02)))},candlestick:r,close:a,ema:a,heikinashi:r,ichimoku:function(r,a){a=a||o.ichimoku();var t=l(r,function(t,n){var e=r[n+a.pks(t)],n=r[n-a.pks(t)];return[a.ts(t),a.ks(t),n?a.sa(n):null,n?a.sb(n):null,e?a.c(e):null]});return c.scaleLinear().domain(c.extent(t).map(s(.02)))},macd:function(t,n){return n=n||o.macd(),u(c,t,n,.02)},momentum:a,moneyflow:a,ohlc:r,percent:function(t,n){var e=t.domain();return n=n||e[0],t.copy().domain([e[0],e[e.length-1]].map(function(t){return(t-n)/n}))},roc:a,rsi:function(){return c.scaleLinear().domain([0,100])},sma:a,sroc:a,stochastic:function(){return c.scaleLinear().domain([0,100])},supstance:function(t,n){return n=n||o.supstance(),u(c,t,n.v,.02)},tick:r,time:function(t,n){return n=n||o.value(),e().domain(t.map(n.d))},tradearrow:function(t,n){return n=n||o.trade(),u(c,t,n.p,.02)},trendline:function(t,n){n=n||o.trendline();t=l(t,function(t){return[n.sv(t),n.ev(t)]});return c.scaleLinear().domain(c.extent(t).map(s(.04)))},volume:function(t,n){return n=n||o.ohlc().v,c.scaleLinear().domain([0,1.15*c.max(t.map(n))])},vwap:a,wilderma:a,williams:function(){return c.scaleLinear().domain([0,100])}}}}},{"../accessor":8,"../util":69,"./financetime":62,"./zoomable":64}],64:[function(t,n,e){n.exports=function(){return function t(n,e,r,a){function c(t){return n.apply(n,arguments)}return a=void 0===a||a,c.invert=n.invert,c.domain=function(t){return arguments.length?(a?n.domain([Math.max(r.domain[0],t[0]),Math.min(r.domain[1],t[1])]):n.domain(t),e&&e(),c):n.domain()},c.range=function(t){if(arguments.length)throw"zoomable is a read only range. Use this scale for zooming only";return n.range()},c.copy=function(){return t(n.copy(),e,r,a)},c.clamp=function(t){return arguments.length?(a=t,c):a},c}}},{}],65:[function(t,n,e){n.exports=function(e){return function(){var p=e(0),h=e(0),v=e(12),m=e(15),g=e("up"),y=e(!0);function n(t,n){var e=p(t,n),r=h(t,n),a=v(t,n),c=m(t,n),o=g(t,n),i=y(t,n),u="left"===o||"up"===o?1:-1,s=a/3,l=a/2,d=i?c/2:c,f="M "+e+" "+r;switch(o){case"up":case"down":f+=" l "+-l+" "+u*d+" l "+s+" 0",i&&(f+=" l 0 "+u*d),f+=" l "+s+" 0",i&&(f+=" l 0 "+-u*d),f+=" l "+s+" 0";break;case"left":case"right":f+=" l "+u*d+" "+-l+" l 0 "+s,i&&(f+=" l "+u*d+" 0"),f+=" l 0 "+s,i&&(f+=" l "+-u*d+" 0"),f+=" l 0 "+s;break;default:throw"Unsupported arrow.orient() = "+g}return f+" z"}return n.x=function(t){return arguments.length?(p=e(t),n):p},n.y=function(t){return arguments.length?(h=e(t),n):h},n.height=function(t){return arguments.length?(m=e(t),n):m},n.width=function(t){return arguments.length?(v=e(t),n):v},n.orient=function(t){return arguments.length?(g=e(t),n):g},n.tail=function(t){return arguments.length?(y=e(t),n):y},n}}},{}],66:[function(n,t,e){t.exports=function(t){return{arrow:n("./arrow")(n("../util")().functor)}}},{"../util":69,"./arrow":65}],67:[function(t,n,e){var r;if("undefined"!=typeof window)r=window.d3;else{if("object"!=typeof n)throw"Unsupported runtime environment: Could not find d3. Ensure defined globally on window, or available as dependency.";r=t("d3")}n.exports=(n=r,{version:t("../build/version"),accessor:t("./accessor")(),indicator:t("./indicator")(n),plot:t("./plot")(n),scale:t("./scale")(n),svg:t("./svg")(n)})},{"../build/version":1,"./accessor":8,"./indicator":29,"./plot":47,"./scale":63,"./svg":66,d3:"d3"}],68:[function(t,n,e){n.exports=function t(n){var e=[],r=n-1;return t.push=function(t){r=++r%n,e.length<n?e.push(t):e[r]=t},t.get=function(t){return e[(r+e.length-t)%e.length]},t.head=function(){return t.get(0)},t.last=function(){return t.get(e.length-1)},t.size=function(){return n},t.samples=function(){return e},t.primed=function(){return e.length===n},t}},{}],69:[function(t,n,e){function r(t,n,e){for(var r,a=2,c=arguments.length;++a<c;)t[r=arguments[a]]=((n,e,r,a)=>function(){var t=r.apply(e,arguments);return a&&t===e&&a(),t===e?n:t})(t,n,n[r],e);return t}n.exports=function(){return{circularbuffer:t("./circularbuffer"),rebindCallback:r,rebind:function(t,n){var e=Array.prototype.slice.call(arguments,0);return e.splice(2,0,void 0),r.apply(this,e)},functor:function(t){return"function"==typeof t?t:function(){return t}}}}},{"./circularbuffer":68}]},{},[67])(67)});
//# sourceMappingURL=techan.min.js.map